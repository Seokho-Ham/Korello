(this.webpackJsonpkorello=this.webpackJsonpkorello||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(41),s=n.n(r),o=n(2),i=n(15),l=n(6),u=n(78),d=n(44),b=function(e){e.handler;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{id:"login",style:{textAlign:"center",height:"1200px",margin:"20px"},children:Object(a.jsx)("a",{id:"custom-login-btn",href:"http://hyuki.app/oauth2/authorization/kakao",children:Object(a.jsx)("img",{src:"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg",width:"222"})})})})},j=n(4),p=n.n(j),f=n(5),h=n(17),O=n.n(h),x="http://222.117.225.28:8080/api/v1",m=function(e,t,n,a){var r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)("loading"),d=Object(o.a)(u,2),b=d[0],j=d[1],h=Object(c.useState)(0),m=Object(o.a)(h,2),v=m[0],g=m[1];return Object(c.useEffect)((function(){(function(){var n=Object(f.a)(p.a.mark((function n(){var a,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.a[e](x+t);case 3:a=n.sent,c=a.data,console.log("get\uc694\uccad"),console.log(typeof c),c.result_body&&l(c.result_body),g(c.result_code),j("finished"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}})()()}),[n,a]),[i,v,b]},v=function(){return[function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post(x+t,n);case 3:return a=e.sent,c=a.data,console.log("post \uc694\uccad"),console.log(typeof c),e.abrupt("return",c.result_code);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()]},g=function(){return[function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put(x+t,n);case 3:if(a=e.sent,c=a.data,console.log("update \uc694\uccad"),console.log(typeof c),!c){e.next=9;break}return e.abrupt("return",c.result_code);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()]},k=function(e){var t=e.url,n=e.data,c=e.setUpdate,r=v(),s=Object(o.a)(r,1)[0],i=Object(l.g)(),u=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/board/delete",{id:n.id});case 2:200!==e.sent&&alert("\uc0ad\uc81c \uc2e4\ud328!"),c((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"board-element",children:[Object(a.jsx)("button",{className:"board-delete-button",onClick:u,children:"X"}),Object(a.jsx)("div",{className:"board-title",onClick:function(){i.push("".concat(t.slice(0,t.length-1),"/").concat(n.id,"/cards"),{id:n.id})},children:Object(a.jsx)(a.Fragment,{children:n.name})})]})},y=function(e){var t=e.onClickHandler,n=e.setUpdate,r=e.display,s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useRef)(null),b=v(),j=Object(o.a)(b,1)[0],h=function(){var e=Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.length>0)){e.next=8;break}return e.next=3,j("/board",{name:l});case 3:a=e.sent,console.log(a),201===a?(u(""),t(),n((function(e){return!e}))):(alert("\uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),u(""),d.current.focus()),e.next=10;break;case 8:alert("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),d.current.focus();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("span",{className:"add-board-form",style:{display:r?"block":"none"},children:[Object(a.jsx)("input",{ref:d,placeholder:"board name",value:l,onChange:function(e){u(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&h()}}),Object(a.jsx)("button",{onClick:h,children:"Add"}),Object(a.jsx)("button",{onClick:t,children:"Cancel"})]})},C=function(e){var t=e.match,n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1],j=m("get","/boards",s),p=Object(o.a)(j,1)[0],f=function(){b((function(e){return!e}))};return Object(a.jsxs)("div",{id:"board-container",children:[p.length>0?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{id:"board-list",children:p.map((function(e){return Object(a.jsx)(k,{url:t.path,data:e,setUpdate:i},e.id)}))})}):Object(a.jsx)("div",{id:"board-list",children:"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),Object(a.jsxs)("span",{id:"board-add-button",children:[Object(a.jsx)(y,{onClickHandler:f,setUpdate:i,display:d}),Object(a.jsx)("button",{onClick:f,style:{display:d?"none":"block"},children:"Add Board"})]})]})},N=function(e){var t=e.tag,n=e.url,r=e.setUpdate,s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),j=b[0],h=b[1],O=v(),x=Object(o.a)(O,1)[0],m=function(){h((function(e){return!e}))},g=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.length>0)){e.next=7;break}return e.next=3,x("".concat(n.slice(0,n.length-1)),{tagValue:t,name:l});case 3:201===e.sent?(u(""),h((function(e){return!e})),r((function(e){return!e}))):(alert("\uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),u("")),e.next=8;break;case 7:alert("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"new-card-form",style:{display:j?"block":"none"},children:[Object(a.jsx)("input",{name:"title",type:"text",placeholder:"title",value:l,onChange:function(e){u(e.target.value)}}),Object(a.jsxs)("div",{className:"add-button",children:[Object(a.jsx)("button",{onClick:g,children:"Add Card"}),Object(a.jsx)("button",{onClick:m,children:"Cancel"})]})]}),Object(a.jsx)("div",{className:"add-button",style:{display:j?"none":"block"},children:Object(a.jsx)("button",{onClick:m,children:"Add another card"})})]})},w=n(79),S=[{name:"green",color:"#80E12A"},{name:"red",color:"#CD1F48"},{name:"yellow",color:"#FFDC3C"},{name:"pink",color:"#FF98FE"},{name:"purple",color:"#960a96"},{name:"orange",color:"#E56D29"},{name:"blue",color:"#0A6EFF"}],U=function(e){var t=e.id,n=e.url,r=e.modalUpdate,s=e.setModalUpdate,i=e.setUpdate,l=e.labels,u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),x=O[0],g=O[1],k=Object(c.useState)(""),y=Object(o.a)(k,2),C=y[0],N=y[1],w=Object(c.useState)(!1),U=Object(o.a)(w,2),F=U[0],A=U[1],D=v(),I=Object(o.a)(D,1)[0],V=m("get",n.slice(0,n.length-6)+"/label",r),E=Object(o.a)(V,1)[0],L=function(e){g(e.target.className)},_=function(){A((function(e){return!e}))},X=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C.length>0&&x.length>0)){e.next=7;break}return e.next=3,I(n.slice(0,n.length-6)+"/label",{name:C,color:x});case 3:201===e.sent?(g(""),N(""),A((function(e){return!e})),s((function(e){return!e}))):alert("\ucd94\uac00 \uc2e4\ud328"),e.next=8;break;case 7:alert("\uc774\ub984\uacfc \uc0c9\uc744 \uc815\ud574\uc8fc\uc138\uc694!");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e,t){var n=!1;return e.map((function(e){e.id===t&&(n=!0)})),n},q=function(){var e=Object(f.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M(l,n.target.id)){e.next=6;break}return e.next=3,I("/card/".concat(t,"/label/delete"),{labelIds:[n.target.id]});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,I("/card/".concat(t,"/label"),{labelId:n.target.id});case 8:e.t0=e.sent;case 9:201===(a=e.t0)||200===a||alert("\uc2e4\ud328"),i((function(e){return!e}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"add-card-label-button",children:[Object(a.jsx)("button",{onClick:function(){j((function(e){return!e}))},children:"Label"}),b?Object(a.jsxs)("div",{className:"label-modal",style:{overflow:"auto"},children:[function(){var e={};return E.map((function(t){e[t.color]=E.indexOf(t)})),S.map((function(t,n){if(void 0!==e[t.color]){var c=E[e[t.color]];return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("span",{id:c.id,className:c.color,style:{backgroundColor:c.color,color:"#fff",display:"block",margin:"2px",width:"160px",height:"20px",padding:"3px",cursor:"pointer",borderRadius:"3px"},onClick:q,children:c.name}),Object(a.jsx)("button",{name:c.id,onClick:X,style:{float:"right"},children:"X"})]},n)}return Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsx)("span",{className:t.color,style:{backgroundColor:t.color,color:"#fff",display:"inline-block",margin:"1px",padding:"3px",width:"160px",height:"20px",cursor:"pointer",borderRadius:"3px"},onClick:L})},n)}))}(),Object(a.jsxs)("div",{className:"label-form",style:{display:F?"block":"none"},children:[Object(a.jsx)("input",{value:C,onChange:function(e){N(e.target.value)},style:{backgroundColor:x,width:"160px",borderRadius:"3px",color:""===x?"black":"#fff"},placeholder:"title"}),Object(a.jsx)("button",{onClick:R,children:"Add Label"}),Object(a.jsx)("button",{onClick:_,children:"Cancel"})]}),Object(a.jsx)("button",{onClick:_,style:{display:F?"none":"block"},children:"Add Label"})]}):null]})},F=function(e){var t=e.id,n=e.setUpdate,r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),b=d[0],j=d[1],h=v(),O=Object(o.a)(h,1)[0],x=function(){var e=Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.length>0)){e.next=7;break}return e.next=3,O("/card/".concat(t,"/todo"),{cardId:t,title:b});case 3:201===(a=e.sent)||200===a?(n((function(e){return!e})),j(""),l((function(e){return!e}))):(alert("\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0dd\uc131 \uc2e4\ud328"),n((function(e){return!e}))),e.next=8;break;case 7:alert("title\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"add-checklist-modal",children:[Object(a.jsx)("button",{onClick:function(){l((function(e){return!e}))},children:"CheckList"}),i?Object(a.jsxs)("div",{className:"checkList-modal",style:{overflow:"auto"},children:[Object(a.jsx)("input",{placeholder:"checklist title",value:b,onChange:function(e){j(e.target.value)},style:{display:"block"}}),Object(a.jsx)("button",{onClick:x,children:"Add Checklist"})]}):null]})},A=function(e){var t=e.el,n=e.setUpdate,r=g(),s=Object(o.a)(r,1)[0],i=[function(){var e=Object(f.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete(x+t);case 3:if(n=e.sent,a=n.data,console.log("delete \uc694\uccad"),console.log(a),!a){e.next=9;break}return e.abrupt("return",a.result_code);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()],l=Object(o.a)(i,1)[0],u=Object(c.useState)(t.title),d=Object(o.a)(u,2),b=d[0],j=d[1],h=Object(c.useState)(!1),m=Object(o.a)(h,2),v=m[0],k=m[1],y=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/todo/".concat(t.target.name,"/status"));case 2:200===e.sent||alert("\uc2e4\ud328"),n((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=11;break}if(!(b.length>0&&b!==t.title)){e.next=8;break}return e.next=4,s("/todo/".concat(t.todoId),{title:b});case 4:200===e.sent?(k(!1),n((function(e){return!e}))):(alert("\uc2e4\ud328"),n((function(e){return!e}))),e.next=9;break;case 8:k((function(e){return!e}));case 9:e.next=12;break;case 11:k((function(e){return!e}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("/todo/".concat(t.todoId));case 2:200===e.sent||alert("\uc2e4\ud328"),n((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"checklist-item",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"checkbox",name:t.todoId,checked:t.status,onChange:y}),v?Object(a.jsxs)("span",{className:"checklist-item-title",children:[Object(a.jsx)("input",{value:b,onChange:function(e){j(e.target.value)}}),Object(a.jsx)("button",{onClick:C,children:"\uc218\uc815"})]}):Object(a.jsx)("span",{className:"checklist-item-title",onClick:C,children:t.title}),Object(a.jsx)("button",{className:"checklist-delete",onClick:N,children:"X"})]})})},D=function(e){var t=e.id,n=e.data,r=e.setUpdate,s=e.percent,i=Object(c.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(""),j=Object(o.a)(b,2),h=j[0],O=j[1],x=v(),m=Object(o.a)(x,1)[0],g=function(){d((function(e){return!e}))},k=function(){var e=Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.length>0)){e.next=7;break}return e.next=3,m("/card/".concat(t,"/todo"),{cardId:t,title:h});case 3:201===(n=e.sent)||200===n?(O(""),d((function(e){return!e})),r((function(e){return!e}))):alert("\uc0dd\uc131 \uc2e4\ud328!"),e.next=8;break;case 7:alert("title\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"checklist-header",children:[Object(a.jsx)("h4",{style:{margin:"0px 0px 5px 0px"},children:"CheckList"}),Object(a.jsxs)("div",{className:"progress-container",children:[Object(a.jsxs)("div",{className:"progress-percent",children:[s,"%"]}),Object(a.jsx)("div",{className:"progress-bar",children:Object(a.jsx)("div",{className:"progress-percent-bar",style:{width:"".concat(s,"%")}})})]})]}),Object(a.jsx)("div",{className:"checklist- inner",children:n.map((function(e,t){return Object(a.jsx)(A,{el:e,setUpdate:r},t)}))}),Object(a.jsx)("div",{className:"checklist-add-button",children:u?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{placeholder:"title",value:h,onChange:function(e){O(e.target.value)}}),Object(a.jsx)("button",{onClick:k,children:"Add"}),Object(a.jsx)("button",{onClick:g,children:"Cancel"})]}):Object(a.jsx)("button",{onClick:g,children:"Add an item"})})]})},I=function(){var e=Object(c.useState)(new Date),t=Object(o.a)(e,2);t[0],t[1];return Object(a.jsx)("div",{})},V=function(e){var t=e.onClose,n=e.id,r=e.title,s=(e.tag,e.url),i=e.setUpdate,l=e.labels,u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],p=m("get","/card/".concat(n,"/todo"),b),f=Object(o.a)(p,1)[0];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"modal-container"}),Object(a.jsx)("div",{className:"modal-wrapper",children:Object(a.jsxs)("div",{tabIndex:"0",className:"modal-inner",children:[Object(a.jsx)("button",{className:"modal-close",onClick:t,children:"X"}),Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("div",{className:"modal-labels",children:l.length>0?l.map((function(e,t){return Object(a.jsx)("span",{className:"label",style:{backgroundColor:e.color},children:e.name},t)})):null}),Object(a.jsx)("h2",{children:r})]}),Object(a.jsx)("div",{className:"modal-contents",children:f.length>0?Object(a.jsx)("div",{className:"checklist-container",children:Object(a.jsx)(D,{id:n,data:f,setUpdate:j,percent:function(e){var t=0;return e.map((function(e){e.status&&t++})),Math.round(t/e.length*100)}(f)})}):null}),Object(a.jsxs)("div",{className:"modal-sidebar",children:[Object(a.jsx)(U,{url:s,id:n,modalUpdate:b,setModalUpdate:j,setUpdate:i,labels:l}),Object(a.jsx)(F,{id:n,setUpdate:j}),Object(a.jsx)(I,{}),Object(a.jsx)("div",{children:"CheckList, Duedate, Calendar"})]})]})})]})},E=function(e){var t=e.id,n=e.title,r=e.tag,s=(e.memberNames,e.labels),i=e.url,l=e.setUpdate,u=Object(w.a)({item:{type:"card",id:t,tagValue:r},collect:function(e){return{isDragging:e.isDragging()}}}),d=Object(o.a)(u,2),b=d[0].isDragging,j=d[1],h=Object(c.useState)(!1),O=Object(o.a)(h,2),x=O[0],m=O[1],k=Object(c.useState)(n),y=Object(o.a)(k,2),C=y[0],N=y[1],S=Object(c.useState)(!1),U=Object(o.a)(S,2),F=U[0],A=U[1],D=v(),I=Object(o.a)(D,1)[0],E=g(),L=Object(o.a)(E,1)[0],_=function(){A((function(e){return!e}))},X=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C===n){e.next=7;break}return e.next=3,L(i.slice(0,i.length-1)+"/name",{id:t,name:C});case 3:200===e.sent?(m((function(e){return!e})),l((function(e){return!e}))):alert("update \uc2e4\ud328"),e.next=8;break;case 7:m((function(e){return!e}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,I(i.slice(0,i.length-1)+"/delete",{id:t});case 3:201===e.sent||alert("\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),l((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[F?Object(a.jsx)(V,{onClose:_,id:t,title:n,tag:r,url:i,setUpdate:l,labels:s}):null,Object(a.jsxs)("div",{className:"card",opacity:b?.5:1,ref:x?null:j,children:[s.length>0?Object(a.jsx)("div",{className:"card-labels",children:s.sort((function(e,t){return e.id-t.id})).map((function(e,t){return Object(a.jsx)("span",{className:"label",style:{backgroundColor:e.color}},t)}))}):null,x?Object(a.jsxs)("div",{className:"card-input",children:[Object(a.jsx)("input",{value:C,onChange:function(e){N(e.target.value)}}),Object(a.jsx)("button",{onClick:X,children:"save"})]}):Object(a.jsx)("div",{onClick:function(){m((function(e){return!e}))},children:n}),x?null:Object(a.jsxs)("div",{className:"card-buttons",children:[Object(a.jsx)("button",{className:"modal",onClick:_,children:"modal"}),Object(a.jsx)("button",{className:"card-delete-button",onClick:R,children:"X"})]})]})]})},L=Object(c.memo)(E),_=n(80),X=function(e){var t=e.data,n=e.tag,r=e.boardUrl,s=e.setUpdate,i=g(),l=Object(o.a)(i,1)[0],u=Object(c.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tagValue===n){e.next=5;break}return e.next=3,l(r.slice(0,r.length-1)+"/tag",{id:t.id,tagValue:n});case 3:200===e.sent?s((function(e){return!e})):alert("\uc774\ub3d9 \uc2e4\ud328");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(_.a)({accept:"card",drop:u,collect:function(e){return{hovered:e.isOver()}}}),b=Object(o.a)(d,2),j=b[0].hovered,h=b[1];return Object(a.jsxs)("div",{className:"tag",children:[Object(a.jsx)("div",{className:"tag-header",children:n}),Object(a.jsxs)("div",{className:"drop-area ".concat(j?"drop-area-hovered":""),ref:h,children:[console.log(t),t.sort((function(e,t){return e.id-t.id})).map((function(e){return Object(a.jsx)(L,{id:e.id,title:e.name,memberNames:e.memberNames,labels:e.labels,tag:n,url:r,setUpdate:s},e.id)}))]}),Object(a.jsx)(N,{tag:n,url:r,setUpdate:s})]})},R=Object(c.memo)(X),M=function(e){var t=e.url,n=e.setUpdate,r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),b=d[0],j=d[1],h=Object(c.useState)(!1),O=Object(o.a)(h,2),x=O[0],m=O[1],g=v(),k=Object(o.a)(g,1)[0],y=function(){l(""),j(""),m((function(e){return!e}))},C=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length||0!==b.length){e.next=4;break}alert("\ube48\uce78\uc774 \uc788\uc2b5\ub2c8\ub2e4."),e.next=8;break;case 4:return e.next=6,k("".concat(t.slice(0,t.length-1)),{tagValue:i,name:b});case 6:201===e.sent?(l(""),j(""),n((function(e){return!e})),m((function(e){return!e}))):(alert("\uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),l(""));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"tag-add-button",style:{display:x?"inline-block":"none"},children:[Object(a.jsx)("input",{placeholder:"tag name",value:i,onChange:function(e){l(e.target.value)}}),Object(a.jsx)("input",{placeholder:"card name",value:b,onChange:function(e){j(e.target.value)}}),Object(a.jsx)("button",{onClick:C,children:"Add"}),Object(a.jsx)("button",{onClick:y,children:"Cancel"})]}),Object(a.jsx)("div",{className:"tag-add-button",style:{display:x?"none":"inline-block"},children:Object(a.jsx)("button",{onClick:y,children:"Add Tag"})})]})},q=function(e){var t=e.history,n=e.location,r=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)([]),b=Object(o.a)(d,2),j=b[0],h=b[1];return Object(c.useEffect)((function(){!function(){var t=Object(f.a)(p.a.mark((function t(){var n,a,c,r,s,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(x+e);case 2:if(n=t.sent,a=n.data,console.log("getCard \uc694\uccad"),console.log(typeof a),(c=a.result_body).length>0){for(i in r={},s=[],o=[],c.sort((function(e,t){return e.id-t.id})).map((function(e){var t={id:e.id,name:e.name,tagValue:e.tagValue,memberNames:e.memberNames,labels:e.labels,createDate:e.createDate,updateDate:e.updateDate};r[e.tagValue]?r[e.tagValue].push(t):r[e.tagValue]=[t]})),r)s.push(i),o.push(r[i]);u(s),h(o)}case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[a]),[l,j,r]}("".concat(n.pathname)),s=Object(o.a)(r,3),i=s[0],l=s[1],u=s[2];return Object(a.jsxs)("div",{id:"one-board",children:[Object(a.jsx)("button",{className:"go-back",onClick:function(){t.goBack()},children:"\ub4a4\ub85c\uac00\uae30"}),Object(a.jsx)(M,{url:n.pathname,setUpdate:u}),l.length>0?Object(a.jsx)("div",{id:"tag-all-list",children:l.map((function(e,t){var c=l.indexOf(e);return Object(a.jsx)(R,{data:e,tag:i[c],boardUrl:n.pathname,setUpdate:u},t)}))}):Object(a.jsx)("div",{id:"tag-all-list"})]})},B=function(e){var t=e.match;e.history;return Object(a.jsxs)(i.a,{children:[Object(a.jsx)(l.b,{exact:!0,path:t.path,component:C}),Object(a.jsx)(l.b,{path:"".concat(t.path.slice(0,t.path.length-1),"/:id/cards"),component:q})]})},H=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=function(){r(!n)};return Object(a.jsx)(u.a,{backend:d.a,children:Object(a.jsxs)(i.a,{children:[Object(a.jsx)("div",{id:"header",children:Object(a.jsx)("h2",{id:"header-title",children:"Korello"})}),Object(a.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(b,{handler:s})}}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/boards",component:B}),Object(a.jsx)(l.a,{from:"/board/:id/cards",to:"/boards"})]})]})})};n(75);s.a.render(Object(a.jsx)(H,{}),document.querySelector("#root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.2fa89a0d.chunk.js.map