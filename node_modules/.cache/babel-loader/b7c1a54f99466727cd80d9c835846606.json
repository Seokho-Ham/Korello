{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/cocoball/korello-practice/korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Label from'../modal/Label';import CheckListModal from'../modal/ChecklistModal';import Checklist from'../modal/Checklist';import CalendarModal from'../modal/CalendarModal';import{useGetApi}from'../../api';var CardModal=function CardModal(_ref){var onClose=_ref.onClose,id=_ref.id,title=_ref.title,tag=_ref.tag,url=_ref.url,setUpdate=_ref.setUpdate,labels=_ref.labels;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalUpdate=_useState2[0],setModalUpdate=_useState2[1];var _useGetApi=useGetApi('get',\"/card/\".concat(id,\"/todo\"),modalUpdate),_useGetApi2=_slicedToArray(_useGetApi,1),data=_useGetApi2[0];var progressCalculator=function progressCalculator(data){var count=0;data.map(function(el){if(el.status){count++;}});var result=Math.round(count/data.length*100);return result;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-container\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{tabIndex:\"0\",className:\"modal-inner\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-labels\",children:labels.length>0?labels.map(function(el,i){return/*#__PURE__*/_jsx(\"span\",{className:\"label\",style:{backgroundColor:el.color},children:el.name},i);}):null}),/*#__PURE__*/_jsx(\"h2\",{children:title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-contents\",children:data.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"checklist-container\",children:/*#__PURE__*/_jsx(Checklist,{id:id,data:data,setUpdate:setModalUpdate,percent:progressCalculator(data)})}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-sidebar\",children:[/*#__PURE__*/_jsx(Label,{url:url,id:id,modalUpdate:modalUpdate,setModalUpdate:setModalUpdate,setUpdate:setUpdate,labels:labels}),/*#__PURE__*/_jsx(CheckListModal,{id:id,setUpdate:setModalUpdate}),/*#__PURE__*/_jsx(CalendarModal,{}),/*#__PURE__*/_jsx(\"div\",{children:\"CheckList, Duedate, Calendar\"})]})]})})]});};export default CardModal;","map":{"version":3,"sources":["/Users/cocoball/korello-practice/korello/src/components/card/CardModal.jsx"],"names":["React","useState","Label","CheckListModal","Checklist","CalendarModal","useGetApi","CardModal","onClose","id","title","tag","url","setUpdate","labels","modalUpdate","setModalUpdate","data","progressCalculator","count","map","el","status","result","Math","round","length","i","backgroundColor","color","name"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,OAASC,SAAT,KAA0B,WAA1B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAyD,IAAtDC,CAAAA,OAAsD,MAAtDA,OAAsD,CAA7CC,EAA6C,MAA7CA,EAA6C,CAAzCC,KAAyC,MAAzCA,KAAyC,CAAlCC,GAAkC,MAAlCA,GAAkC,CAA7BC,GAA6B,MAA7BA,GAA6B,CAAxBC,SAAwB,MAAxBA,SAAwB,CAAbC,MAAa,MAAbA,MAAa,eACnCb,QAAQ,CAAC,KAAD,CAD2B,wCAClEc,WADkE,eACrDC,cADqD,8BAE1DV,SAAS,CAAC,KAAD,iBAAiBG,EAAjB,UAA4BM,WAA5B,CAFiD,0CAElEE,IAFkE,gBAIzE,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAD,IAAI,CAAI,CACjC,GAAIE,CAAAA,KAAK,CAAG,CAAZ,CACAF,IAAI,CAACG,GAAL,CAAS,SAAAC,EAAE,CAAI,CACb,GAAIA,EAAE,CAACC,MAAP,CAAe,CACbH,KAAK,GACN,CACF,CAJD,EAKA,GAAMI,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAYN,KAAK,CAAGF,IAAI,CAACS,MAAd,CAAwB,GAAnC,CAAf,CACA,MAAOH,CAAAA,MAAP,CACD,CATD,CAWA,mBACE,wCACE,YAAK,SAAS,CAAC,iBAAf,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,QAAQ,CAAC,GAAd,CAAkB,SAAS,CAAC,aAA5B,wBACE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAEf,OAAzC,eADF,cAIE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,cAAf,UACGM,MAAM,CAACY,MAAP,CAAgB,CAAhB,CACGZ,MAAM,CAACM,GAAP,CAAW,SAACC,EAAD,CAAKM,CAAL,qBACT,aAEE,SAAS,CAAC,OAFZ,CAGE,KAAK,CAAE,CACLC,eAAe,CAAEP,EAAE,CAACQ,KADf,CAHT,UAOGR,EAAE,CAACS,IAPN,EACOH,CADP,CADS,EAAX,CADH,CAYG,IAbN,EADF,cAgBE,oBAAKjB,KAAL,EAhBF,GAJF,cAsBE,YAAK,SAAS,CAAC,gBAAf,UACGO,IAAI,CAACS,MAAL,CAAc,CAAd,cACC,YAAK,SAAS,CAAC,qBAAf,uBACE,KAAC,SAAD,EACE,EAAE,CAAEjB,EADN,CAEE,IAAI,CAAEQ,IAFR,CAGE,SAAS,CAAED,cAHb,CAIE,OAAO,CAAEE,kBAAkB,CAACD,IAAD,CAJ7B,EADF,EADD,CASG,IAVN,EAtBF,cAkCE,aAAK,SAAS,CAAC,eAAf,wBACE,KAAC,KAAD,EACE,GAAG,CAAEL,GADP,CAEE,EAAE,CAAEH,EAFN,CAGE,WAAW,CAAEM,WAHf,CAIE,cAAc,CAAEC,cAJlB,CAKE,SAAS,CAAEH,SALb,CAME,MAAM,CAAEC,MANV,EADF,cASE,KAAC,cAAD,EAAgB,EAAE,CAAEL,EAApB,CAAwB,SAAS,CAAEO,cAAnC,EATF,cAUE,KAAC,aAAD,IAVF,cAWE,qDAXF,GAlCF,GADF,EAFF,GADF,CAuDD,CAtED,CAwEA,cAAeT,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport Label from '../modal/Label';\nimport CheckListModal from '../modal/ChecklistModal';\nimport Checklist from '../modal/Checklist';\nimport CalendarModal from '../modal/CalendarModal';\nimport { useGetApi } from '../../api';\n\nconst CardModal = ({ onClose, id, title, tag, url, setUpdate, labels }) => {\n  const [modalUpdate, setModalUpdate] = useState(false);\n  const [data] = useGetApi('get', `/card/${id}/todo`, modalUpdate);\n\n  const progressCalculator = data => {\n    let count = 0;\n    data.map(el => {\n      if (el.status) {\n        count++;\n      }\n    });\n    const result = Math.round((count / data.length) * 100);\n    return result;\n  };\n\n  return (\n    <>\n      <div className='modal-container' />\n      <div className='modal-wrapper'>\n        <div tabIndex='0' className='modal-inner'>\n          <button className='modal-close' onClick={onClose}>\n            X\n          </button>\n          <div className='modal-header'>\n            <div className='modal-labels'>\n              {labels.length > 0\n                ? labels.map((el, i) => (\n                    <span\n                      key={i}\n                      className='label'\n                      style={{\n                        backgroundColor: el.color,\n                      }}\n                    >\n                      {el.name}\n                    </span>\n                  ))\n                : null}\n            </div>\n            <h2>{title}</h2>\n          </div>\n          <div className='modal-contents'>\n            {data.length > 0 ? (\n              <div className='checklist-container'>\n                <Checklist\n                  id={id}\n                  data={data}\n                  setUpdate={setModalUpdate}\n                  percent={progressCalculator(data)}\n                />\n              </div>\n            ) : null}\n          </div>\n          <div className='modal-sidebar'>\n            <Label\n              url={url}\n              id={id}\n              modalUpdate={modalUpdate}\n              setModalUpdate={setModalUpdate}\n              setUpdate={setUpdate}\n              labels={labels}\n            />\n            <CheckListModal id={id} setUpdate={setModalUpdate} />\n            <CalendarModal />\n            <div>CheckList, Duedate, Calendar</div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CardModal;\n"]},"metadata":{},"sourceType":"module"}