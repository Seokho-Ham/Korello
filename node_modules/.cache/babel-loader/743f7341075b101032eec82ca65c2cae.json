{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/cocoball/Korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cocoball/Korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cocoball/Korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{usePostApi}from'../../api/index';var AddButton=function AddButton(_ref){var tag=_ref.tag,url=_ref.url,setUpdate=_ref.setUpdate;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplay=_useState4[1];var _usePostApi=usePostApi(),_usePostApi2=_slicedToArray(_usePostApi,1),postData=_usePostApi2[0];var onChangeHandler=function onChangeHandler(e){setTitle(e.target.value);};var onClickHandler=function onClickHandler(){setDisplay(function(prevState){return!prevState;});};var addCardHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var code;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(title.length>0)){_context.next=7;break;}_context.next=3;return postData(\"\".concat(url.slice(0,url.length-1)),{tagValue:tag,name:title});case 3:code=_context.sent;if(code===201){setTitle('');setDisplay(function(prevState){return!prevState;});setUpdate(function(prevState){return!prevState;});}else{alert('생성에 실패했습니다.');setTitle('');}_context.next=8;break;case 7:alert('이름을 입력해주세요.');case 8:case\"end\":return _context.stop();}}},_callee);}));return function addCardHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-card-form\",style:{display:display?'block':'none'},children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",type:\"text\",placeholder:\"title\",value:title,onChange:onChangeHandler}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-button\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addCardHandler,children:\"Add Card\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickHandler,children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"add-button\",style:{display:display?'none':'block'},children:/*#__PURE__*/_jsx(\"button\",{onClick:onClickHandler,children:\"Add another card\"})})]});};export default AddButton;","map":{"version":3,"sources":["/Users/cocoball/Korello/src/components/card/AddCardButton.jsx"],"names":["React","useState","usePostApi","AddButton","tag","url","setUpdate","title","setTitle","display","setDisplay","postData","onChangeHandler","e","target","value","onClickHandler","prevState","addCardHandler","length","slice","tagValue","name","code","alert"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,iBAA3B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA6B,IAA1BC,CAAAA,GAA0B,MAA1BA,GAA0B,CAArBC,GAAqB,MAArBA,GAAqB,CAAhBC,SAAgB,MAAhBA,SAAgB,eACnBL,QAAQ,CAAC,EAAD,CADW,wCACtCM,KADsC,eAC/BC,QAD+B,8BAEfP,QAAQ,CAAC,KAAD,CAFO,yCAEtCQ,OAFsC,eAE7BC,UAF6B,+BAG1BR,UAAU,EAHgB,4CAGtCS,QAHsC,iBAK7C,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,CAAC,CAAI,CAC3BL,QAAQ,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BN,UAAU,CAAC,SAAAO,SAAS,QAAI,CAACA,SAAL,EAAV,CAAV,CACD,CAFD,CAIA,GAAMC,CAAAA,cAAc,2FAAG,iJACjBX,KAAK,CAACY,MAAN,CAAe,CADE,gDAEAR,CAAAA,QAAQ,WAAIN,GAAG,CAACe,KAAJ,CAAU,CAAV,CAAaf,GAAG,CAACc,MAAJ,CAAa,CAA1B,CAAJ,EAAoC,CAC7DE,QAAQ,CAAEjB,GADmD,CAE7DkB,IAAI,CAAEf,KAFuD,CAApC,CAFR,QAEbgB,IAFa,eAOnB,GAAIA,IAAI,GAAK,GAAb,CAAkB,CAChBf,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,SAAAO,SAAS,QAAI,CAACA,SAAL,EAAV,CAAV,CACAX,SAAS,CAAC,SAAAW,SAAS,QAAI,CAACA,SAAL,EAAV,CAAT,CACD,CAJD,IAIO,CACLO,KAAK,CAAC,aAAD,CAAL,CACAhB,QAAQ,CAAC,EAAD,CAAR,CACD,CAdkB,6BAgBnBgB,KAAK,CAAC,aAAD,CAAL,CAhBmB,sDAAH,kBAAdN,CAAAA,cAAc,2CAApB,CAoBA,mBACE,wCACE,aACE,SAAS,CAAC,eADZ,CAEE,KAAK,CAAE,CAAET,OAAO,CAAEA,OAAO,CAAG,OAAH,CAAa,MAA/B,CAFT,wBAIE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,OAHd,CAIE,KAAK,CAAEF,KAJT,CAKE,QAAQ,CAAEK,eALZ,EAJF,cAWE,aAAK,SAAS,CAAC,YAAf,wBACE,eAAQ,OAAO,CAAEM,cAAjB,sBADF,cAEE,eAAQ,OAAO,CAAEF,cAAjB,oBAFF,GAXF,GADF,cAiBE,YACE,SAAS,CAAC,YADZ,CAEE,KAAK,CAAE,CAAEP,OAAO,CAAEA,OAAO,CAAG,MAAH,CAAY,OAA9B,CAFT,uBAIE,eAAQ,OAAO,CAAEO,cAAjB,8BAJF,EAjBF,GADF,CA0BD,CA3DD,CA6DA,cAAeb,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport { usePostApi } from '../../api/index';\n\nconst AddButton = ({ tag, url, setUpdate }) => {\n  const [title, setTitle] = useState('');\n  const [display, setDisplay] = useState(false);\n  const [postData] = usePostApi();\n\n  const onChangeHandler = e => {\n    setTitle(e.target.value);\n  };\n\n  const onClickHandler = () => {\n    setDisplay(prevState => !prevState);\n  };\n\n  const addCardHandler = async () => {\n    if (title.length > 0) {\n      const code = await postData(`${url.slice(0, url.length - 1)}`, {\n        tagValue: tag,\n        name: title,\n      });\n\n      if (code === 201) {\n        setTitle('');\n        setDisplay(prevState => !prevState);\n        setUpdate(prevState => !prevState);\n      } else {\n        alert('생성에 실패했습니다.');\n        setTitle('');\n      }\n    } else {\n      alert('이름을 입력해주세요.');\n    }\n  };\n\n  return (\n    <>\n      <div\n        className='new-card-form'\n        style={{ display: display ? 'block' : 'none' }}\n      >\n        <input\n          name='title'\n          type='text'\n          placeholder='title'\n          value={title}\n          onChange={onChangeHandler}\n        ></input>\n        <div className='add-button'>\n          <button onClick={addCardHandler}>Add Card</button>\n          <button onClick={onClickHandler}>Cancel</button>\n        </div>\n      </div>\n      <div\n        className='add-button'\n        style={{ display: display ? 'none' : 'block' }}\n      >\n        <button onClick={onClickHandler}>Add another card</button>\n      </div>\n    </>\n  );\n};\n\nexport default AddButton;\n"]},"metadata":{},"sourceType":"module"}