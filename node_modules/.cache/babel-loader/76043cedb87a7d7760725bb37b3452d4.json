{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cocoball/korello-practice/korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cocoball/korello-practice/korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cocoball/korello-practice/korello/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import axios from'axios';var serverUrl='http://222.117.225.28:8080/api/v1';//GET--------------------------------------------------------------------------------\nvar useGetApi=function useGetApi(method,uri,state1,state2){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState('loading'),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),code=_useState6[0],setCode=_useState6[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$method,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios[method](serverUrl+uri);case 3:_yield$axios$method=_context.sent;_data=_yield$axios$method.data;console.log('get요청');console.log(typeof _data);if(_data.result_body){setData(_data.result_body);}setCode(_data.result_code);setLoading('finished');_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[state1,state2]);return[data,code,loading];};var useGetCardApi=function useGetCardApi(uri){var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),update=_useState8[0],setUpdate=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tagList=_useState10[0],setTagList=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),cardList=_useState12[0],setCardList=_useState12[1];useEffect(function(){var getCard=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get,data,result_body,obj,tags,cards,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(serverUrl+uri);case 2:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;console.log('getCard 요청');console.log(typeof data);result_body=data.result_body;if(result_body.length>0){obj={};tags=[];cards=[];result_body.sort(function(a,b){return a.id-b.id;}).map(function(el){var cardObj={id:el.id,name:el.name,tagValue:el.tagValue,memberNames:el.memberNames,labels:el.labels,createDate:el.createDate,updateDate:el.updateDate};if(!obj[el.tagValue]){obj[el.tagValue]=[cardObj];}else{obj[el.tagValue].push(cardObj);}});for(i in obj){tags.push(i);cards.push(obj[i]);}setTagList(tags);setCardList(cards);}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getCard(){return _ref2.apply(this,arguments);};}();getCard();},[update]);return[tagList,cardList,setUpdate];};//POST--------------------------------------------------------------------------------\nvar usePostApi=function usePostApi(){var postData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uri,body){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post(serverUrl+uri,body);case 3:_yield$axios$post=_context3.sent;data=_yield$axios$post.data;console.log('post 요청');console.log(typeof data);return _context3.abrupt(\"return\",data.result_code);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function postData(_x,_x2){return _ref3.apply(this,arguments);};}();return[postData];};//UPDATE--------------------------------------------------------------------------------\nvar useUpdateApi=function useUpdateApi(){var updateData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,body){var _yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(serverUrl+url,body);case 3:_yield$axios$put=_context4.sent;data=_yield$axios$put.data;console.log('update 요청');console.log(typeof data);if(!data){_context4.next=9;break;}return _context4.abrupt(\"return\",data.result_code);case 9:_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function updateData(_x3,_x4){return _ref4.apply(this,arguments);};}();return[updateData];};//DELETE-------------------------------------------------------------------------------\nvar useDeleteApi=function useDeleteApi(){var deleteData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.delete(serverUrl+url);case 3:_yield$axios$delete=_context5.sent;data=_yield$axios$delete.data;console.log('delete 요청');console.log(data);if(!data){_context5.next=9;break;}return _context5.abrupt(\"return\",data.result_code);case 9:_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function deleteData(_x5){return _ref5.apply(this,arguments);};}();return[deleteData];};export{useGetApi,useGetCardApi,usePostApi,useUpdateApi,useDeleteApi};","map":{"version":3,"sources":["/Users/cocoball/korello-practice/korello/src/api/index.js"],"names":["useState","useEffect","axios","serverUrl","useGetApi","method","uri","state1","state2","data","setData","loading","setLoading","code","setCode","getData","console","log","result_body","result_code","useGetCardApi","update","setUpdate","tagList","setTagList","cardList","setCardList","getCard","get","length","obj","tags","cards","sort","a","b","id","map","el","cardObj","name","tagValue","memberNames","labels","createDate","updateDate","push","i","usePostApi","postData","body","post","useUpdateApi","updateData","url","put","useDeleteApi","deleteData","delete"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst serverUrl = 'http://222.117.225.28:8080/api/v1';\n\n//GET--------------------------------------------------------------------------------\nconst useGetApi = (method, uri, state1, state2) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState('loading');\n  const [code, setCode] = useState(0);\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        let { data } = await axios[method](serverUrl + uri);\n        console.log('get요청');\n        console.log(typeof data);\n        if (data.result_body) {\n          setData(data.result_body);\n        }\n        setCode(data.result_code);\n        setLoading('finished');\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getData();\n  }, [state1, state2]);\n  return [data, code, loading];\n};\n\nconst useGetCardApi = uri => {\n  const [update, setUpdate] = useState(false);\n  const [tagList, setTagList] = useState([]);\n  const [cardList, setCardList] = useState([]);\n\n  useEffect(() => {\n    const getCard = async () => {\n      let { data } = await axios.get(serverUrl + uri);\n      console.log('getCard 요청');\n      console.log(typeof data);\n      let { result_body } = data;\n\n      if (result_body.length > 0) {\n        const obj = {};\n        const tags = [];\n        const cards = [];\n        result_body\n          .sort((a, b) => a.id - b.id)\n          .map(el => {\n            let cardObj = {\n              id: el.id,\n              name: el.name,\n              tagValue: el.tagValue,\n              memberNames: el.memberNames,\n              labels: el.labels,\n              createDate: el.createDate,\n              updateDate: el.updateDate,\n            };\n\n            if (!obj[el.tagValue]) {\n              obj[el.tagValue] = [cardObj];\n            } else {\n              obj[el.tagValue].push(cardObj);\n            }\n          });\n\n        for (let i in obj) {\n          tags.push(i);\n          cards.push(obj[i]);\n        }\n\n        setTagList(tags);\n        setCardList(cards);\n      }\n    };\n    getCard();\n  }, [update]);\n\n  return [tagList, cardList, setUpdate];\n};\n\n//POST--------------------------------------------------------------------------------\nconst usePostApi = () => {\n  const postData = async (uri, body) => {\n    try {\n      let { data } = await axios.post(serverUrl + uri, body);\n      console.log('post 요청');\n      console.log(typeof data);\n      return data.result_code;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return [postData];\n};\n\n//UPDATE--------------------------------------------------------------------------------\nconst useUpdateApi = () => {\n  const updateData = async (url, body) => {\n    try {\n      const { data } = await axios.put(serverUrl + url, body);\n      console.log('update 요청');\n      console.log(typeof data);\n      if (data) {\n        return data.result_code;\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return [updateData];\n};\n\n//DELETE-------------------------------------------------------------------------------\nconst useDeleteApi = () => {\n  const deleteData = async url => {\n    try {\n      const { data } = await axios.delete(serverUrl + url);\n      console.log('delete 요청');\n      console.log(data);\n      if (data) {\n        return data.result_code;\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return [deleteData];\n};\n\nexport { useGetApi, useGetCardApi, usePostApi, useUpdateApi, useDeleteApi };\n"]},"metadata":{},"sourceType":"module"}